---
layout: "../layouts/Layout.astro"
---

import { Stack, Text, Title } from "@dddstack/davaiui-astro";

import { data } from "../lib";

<Stack class="items-center space-y-6 pb-12 text-center md:pb-16">
  <Title class="text-3xl font-extrabold md:text-4xl">
    {data.title}
  </Title>
  <Text class="text-xl font-light text-gray-600 md:text-2xl">
    {data.description}
  </Text>
</Stack>

## Overview

Droplet makes code generation consistent, reusable, and simple. At its core, Droplet is a link between [Handlebars](https://handlebarsjs.com) templates and CLI prompts.

## Installation

```bash
npm install @dddstack/droplet -D
```

## Initialization

Run the following command to initialize Droplet:

```bash
npx droplet init
```

Droplet will create a basic `droplet` directory with an example file and template.

![droplet init](/assets/droplet/init.png)

## File

Drop a Droplet file to a location:

```bash
npx droplet file
```

![droplet file](/assets/droplet/file.png)

## Template

Drop all Droplet template to a location:

```bash
npx droplet template
```

![droplet template](/assets/droplet/template.png)

## Droplet Directory

Droplet automatically reads all Droplet files and templates in the Droplet directory. To create files and templates, follow the Droplet naming convention:

{/* prettier-ignore */}
- **droplet_directory_***: Directory
{/* prettier-ignore */}
- **droplet_file_*.hbs**: Droplet file
{/* prettier-ignore */}
- **droplet_template_***: Droplet template

<p class="!mt-8">
  For example, a `droplet` directory structure could look like:
</p>

```md
-- droplet
-- droplet_directory_docs
-- droplet_file_README.md.hbs
-- droplet_file_README.md.fr.hbs
-- droplet_file_index.ts.hbs
-- droplet_template_package
-- droplet_file_index.ts.hbs
-- droplet_file_package.json.hbs
```

## Droplet Value

To take advantage of Handlebars, use `{{droplet}}` in Handlebars templates:

```md
-- droplet*template*{{droplet}}
-- droplet_file_index.ts
```

```ts
// droplet_file_index.ts
export const droplet = {{droplet}};
```

Droplet asks for an optional value before executing that is applied to all mentions of `{{droplet}}`.

## Wrapping Droplet

Under the hood, Droplet is simply a [Commander](https://github.com/tj/commander.js) instance and can be easily extended.

```bash
npm install @dddstack/droplet-core
```

```ts
import { droplet } from "@dddstack/droplet-core";

export const program = droplet({
  // looks for droplet directory in fromDirectory
  // defaults to cwd()
  fromDirectory: "./files",
  // location prompt appends starts paths with toDirectory
  // defaults to cwd()
  toDirectory: "./src"
});

program.command("command").action(() => console.log("command"));
```

## Acknowledgements

Droplet acknowledges the hard work put into these great projects:

- [@astrojs/cli-kit](https://github.com/withastro/cli-kit)
- [Chalk](https://github.com/chalk/chalk)
- [Commander](https://github.com/tj/commander.js)
